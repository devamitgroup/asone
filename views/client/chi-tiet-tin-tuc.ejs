<!DOCTYPE html>
<html lang="vi">
<%- include('partials/head', { title: title }) %>
<body>
    <%- include('partials/header') %>

    <div class="navi">
        <div class="w-ct padding15">
            <a href="/">Trang chủ</a><span>/</span>
            <a href="/tin-tuc">Tin tức</a><span>/</span>
            <span>Chi tiết</span>
        </div>
    </div>

    <div class="w-ct padding15 clearfix">
        <div class="col-md-9 col-sm-12 col-xs-12" id="detail-news">
            <div class="news-content-wrapper">
                <%- news.detail %>
            </div>
        </div>
        <div class="col-md-3 hidden-sm hidden-xs" id="list-news-recoment">
            <div class="ltitle1">Bài viết liên quan</div>
            <!-- Related news load dynamically -->
        </div>
    </div>

    <%- include('partials/footer') %>
    <%- include('partials/social_ring') %>
    <%- include('partials/scripts') %>

    <script>
        (async () => {
            try {
                const res = await fetch("/tin-tuc/get-random-news");
                const data = await res.json();
                const list = document.getElementById("list-news-recoment");
                if (data && list) {
                    data.forEach(item => {
                        list.innerHTML += `
                            <div class="lnew-i clearfix">
                                <a href="/tin-tuc/${item.slug}">
                                    <img alt="${item.name}" src="${item.avt}" />
                                    <h3>${item.name}</h3>
                                </a>
                            </div> 
                        `;
                    });
                }
            } catch (e) { console.error('Random news error:', e); }
        })();
    </script>
</body>
</html>
