<!DOCTYPE html>
<html lang="vi">
<%- include('partials/head', { title: title }) %>
<body>
    <%- include('partials/header') %>

    <div class="bslider">
        <div class="clearfix">
            <div class="col-12 banner-video">
                <img src="/views/client/Content/Uploads/images/banner-asone.jpg" width="100%" alt="Banner AS ONE">
            </div>
        </div>
    </div>

    <div class="whyus">
        <div class="w-ct clearfix padding15">
            <div class="htitle1"><span>Lý do</span></div>
            <h2>Lý do bạn nên chọn AS ONE</h2>
            <br />
            <p>
                AS ONE là một công ty thương mại tổng hợp tạo ra giá trị ban đầu với
                các sản phẩm tiên tiến, mạng lưới CNTT và hậu cần cho các lĩnh vực
                nghiên cứu, công nghiệp và y tế.
            </p>
            <p>
                Các lĩnh vực hoạt động của chúng tôi rất đa dạng: dụng cụ khoa học,
                dụng cụ công nghiệp và dụng cụ điều dưỡng. Chúng tôi cũng tham gia vào các lĩnh vực chuyên môn cao như thiết bị
                nghiên cứu và kiểm tra vi khuẩn thực phẩm
            </p>
            
            <div class="w-ct clearfix main-icon">
                <div class="col-md-4 col-sm-4 col-xs-12 icon-home">
                    <div>
                        <img src="/views/client/Content/Uploads/images/icon_brands.webp" alt="Brands" height="50px" />
                    </div>
                    <div><p>3,930 Nhãn Hiệu</p></div>
                </div>
                <div class="col-md-4 col-sm-4 col-xs-12 icon-home">
                    <div>
                        <img src="/views/client/Content/Uploads/images/icon_van.webp" alt="Shipping" height="50px" />
                    </div>
                    <div>
                        <p>Các mặt hàng luôn có sẵn để giao hàng nhanh chóng</p>
                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-xs-12 icon-home">
                    <div>
                        <img src="/views/client//Content/Uploads/images/icon_moq.webp" alt="MOQ" height="50px" />
                    </div>
                    <div>
                        <p>Không có số lượng đặt hàng tối thiểu</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="brand">
        <div class="w-ct clearfix padding15">
            <div class="brands-home">
                <h5>Nhà cung cấp</h5>
                <hr>
                <p>Đối tác xuất sắc</p>
            </div>
            <div id="kh" class="owl-carousel"></div>
        </div>
        <div class="btn-see-more">
            <a href="/thuong-hieu">Xem thêm</a>
        </div>
    </div>

    <div class="brand">
        <div class="w-ct clearfix padding15" id='dm-noibat'>
            <div class="htitle1"><span>Danh mục nổi bật</span></div>
        </div>
    </div>

    <div class="w-ct clearfix">
        <h2 class="htitle1">
            <a rel="nofollow" href="/san-pham/tat-ca-san-pham">Sản phẩm bán chạy</a>
        </h2>
        <div class="clearfix w-ct padding15">
            <div class="row" id="besselling"></div>
        </div>
    </div>

    <div class="brand">
        <div class="w-ct clearfix padding15">
            <div class="brands-home">
                <h5>Khách hàng của chúng tôi</h5>
                <hr>
            </div>
            <div id="khh" class="owl-carousel"></div>
        </div>
    </div>

    <div class="w-ct clearfix">
        <div class="htitle1 mlr15"><span>Tin tức - Sự kiện</span></div>
        <div id="hnew" class="owl-carousel"></div>
    </div>

    <%- include('partials/footer') %>
    <%- include('partials/social_ring') %>
    <%- include('partials/scripts') %>

    <!-- Page Specific Dynamic Loading Scripts -->
    <script>
        function convertToYYYYMMDD(dateString) {
            const date = new Date(dateString);
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();
            const formattedMonth = month < 10 ? `0${month}` : month;
            const formattedDay = day < 10 ? `0${day}` : day;
            return `${year}/${formattedMonth}/${formattedDay}`;
        }

        (async () => {
            // Suppliers
            const kh = document.querySelector('#kh');
            const resKh = await fetch(`/nha-cung-cap/all`);
            const dataKh = await resKh.json();
            if (dataKh && dataKh.suppliers) {
                dataKh.suppliers.forEach(value => {
                    kh.innerHTML += `
                        <div class="item">
                            <a href='/nha-cung-cap/${value.slug}' class="brand-i">
                                <img width="100%" src="${value.avt}" alt="${value.name}" />
                            </a>
                        </div>
                    `;
                });
            }
            $("#kh").owlCarousel({
                loop: true,
                dots: false,
                autoplay: true,
                autoplayTimeout: 3000,
                responsive: {
                    0: { items: 2 },
                    480: { items: 3 },
                    767: { items: 4 },
                    1000: { items: 6 }
                }
            });

            // Clients
            const khh = document.querySelector('#khh');
            const resKhh = await fetch(`/khach-hang`);
            const dataKhh = await resKhh.json();
            if (dataKhh && dataKhh.clients) {
                dataKhh.clients.forEach(value => {
                    khh.innerHTML += `
                        <div class="item">
                            <a class="brand-i">
                                <img width="165" height="90" src="${value.avt}" alt="${value.name}" />
                            </a>
                        </div>
                    `;
                });
            }
            $("#khh").owlCarousel({
                loop: true,
                dots: false,
                autoplay: true,
                responsive: {
                    0: { items: 2 },
                    480: { items: 3 },
                    767: { items: 5 },
                    1000: { items: 6 }
                }
            });

            // Featured Categories
            const dmNoibat = document.querySelector("#dm-noibat");
            const resCats = await fetch(`/danh-muc/all`);
            const dataCats = await resCats.json();
            if (dataCats) {
                dataCats.forEach(value => {
                    dmNoibat.innerHTML += `
                        <div class="col-md-3 col-sm-4 col-xs-6">
                            <div class="hcate-i">
                                <h2><a href="/danh-muc/${value.slug}">${value.name}</a></h2>
                                <div>
                                    <a href="/danh-muc/${value.slug}"><img src='${value.avt}' width='100%' alt='${value.name}'/></a>
                                </div>
                            </div>
                        </div>
                    `;
                });
            }

            // Best Selling Products
            const besselling = document.querySelector('#besselling');
            const resBs = await fetch('/san-pham/bestsell');
            const dataBs = await resBs.json();
            if (dataBs) {
                dataBs.forEach(value => {
                    besselling.innerHTML += `
                        <div class="col-md-2 col-sm-4 col-xs-6">
                            <div class="p-i">
                                <a class="p-img" href="/san-pham/${value.slug}">
                                    <img src="${value.images[0]}" class="lazy" alt="${value.name}" />
                                </a>
                                <h3><a href="/san-pham/${value.slug}">${value.name}</a></h3>
                                <p class="price-box"><span class="price-news">Giá: Liên hệ</span></p>
                            </div>
                        </div>
                    `;
                });
            }

            // News
            const hnew = document.querySelector('#hnew');
            const resNews = await fetch(`/tin-tuc/get-tin-tuc`);
            const dataNews = await resNews.json();
            if (dataNews) {
                dataNews.forEach(value => {
                    hnew.innerHTML += `
                        <div class="item">
                            <div class="hn-i">
                                <div class="hn-img">
                                    <span>${convertToYYYYMMDD(value.createdAt)}</span>
                                    <a href="/tin-tuc/${value.slug}"><img alt="${value.name}" src="${value.avt}" /></a>
                                </div>
                                <div class="hn-inf">
                                    <h3><a href="/tin-tuc/${value.slug}">${value.name}</a></h3>
                                    <p>${value.describe || ''}</p>
                                    <div><a href="/tin-tuc/${value.slug}">Xem thêm <i class="fa fa-arrow-right"></i></a></div>
                                </div>
                            </div>
                        </div>
                    `;
                });
            }
            $("#hnew").owlCarousel({
                loop: true,
                dots: false,
                autoplay: true,
                margin: 20,
                responsive: {
                    0: { items: 1 },
                    600: { items: 2 },
                    1000: { items: 3 }
                }
            });
        })();
    </script>
</body>
</html>
